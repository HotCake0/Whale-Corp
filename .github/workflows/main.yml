name: 내 코드 자동 실행 (Auto Run)

on:
  # 1. 코드를 수정해서 올릴 때마다 실행
  push:
    branches: [ "main" ]
  
  # 2. 5분마다 자동 실행
  schedule:
    - cron: '*/5 * * * *'

  # 3. 수동 실행 가능
  workflow_dispatch:

jobs: 
  build: 
    runs-on: ubuntu-latest

    steps:
    - name: 저장소 코드 가져오기 (Checkout)
      uses: actions/checkout@v3

    - name: 파이썬 설정하기 (Set up Python)
      uses: actions/setup-python@v4
      with:
        python-version:  '3.9'

    - name: 필요한 라이브러리 설치 (Install dependencies)
      run: |
        python -m pip install --upgrade pip
        pip install requests

    - name: 내 파일 실행하기 (Run Script)
      run: python update_data.py
