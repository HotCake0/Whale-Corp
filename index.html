<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고래상사</title>

    <meta name="description" content="고래상사는 단순한 즐거움을 넘어, 참여하고 몰입하며 온몸으로 웃는 경험을 만듭니다.">
    <meta property="og:title" content="고래상사 | 함께하는 성장의 가치">
    <meta property="og:description" content="초격차 꽁트력으로 지속가능한 미래 방송 사회를 구현합니다.">
    <meta property="og:image" content="미리보기.png">
    <meta property="og:url" content="https://www.goraesangsa.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="고래상사 | 함께하는 성장의 가치">
    <meta name="twitter:description" content="초격차 꽁트력으로 지속가능한 미래 방송 사회를 구현합니다.">
    <meta name="twitter:image" content="미리보기.png">

    <link rel="stylesheet" href="style.css?v=3">
</head>
<body>
    <div id="popup-modal" class="modal-overlay">
        <div class="modal-content">
            <a href="https://hotcake0.github.io/betatest/" target="_blank">
                <img src="쇠구컵.png" alt="이벤트 팝업">
            </a>
            <button id="modal-close-btn" class="modal-close">&times;</button>
        </div>
    </div>

    <header class="main-header">
        <div class="container">
            <a href="#home" class="logo-link">
                <img src="logo.png" alt="고래상사 로고" class="logo-image">
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#about">회사 소개</a></li>
                    <li><a href="#cast">출연진</a></li>
                    <li><a href="CCTV.html" target="_blank">멀티뷰</a></li>
                    <li><a href="#video">대표 영상</a></li>
                    <li><a href="#md-shop">MD샵</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">고래상사</h1>
            <p class="hero-subtitle-en">Shaping the future of sustainable broadcasting with next-level comedy.</p>
            <p class="hero-subtitle-ko">초격차 꽁트력으로 지속가능한 미래 방송 사회 구현</p>
            <a href="#about" class="hero-button">더 알아보기</a>
        </div>
    </section>
    
    <section id="about" class="section">
        <div class="container" style="text-align: center; max-width: 800px;">
            <h2>고래상사 이야기</h2>
            <p>고래상사는 단순한 즐거움을 넘어, 참여하고 몰입하며 온몸으로 웃는 경험을 만듭니다. 우리는 '웃음'이라는 가치를 기반으로, 고객과 함께 성장하는 상생의 가치를 실현합니다.</p>
            <a href="https://magic-mink-e82.notion.site/2c5e955ad773803f9036e03d0468d5fa" class="hero-button">자세히 알아보기</a>
        </div>
    </section>
    
    <section id="cast" class="section">
        <div class="container">
            <h2>고래상사가 선택한 인재들</h2>
            <div class="cast-slider-container">
                <div class="cast-slider">
                    <div class="cast-item" data-bj-id="bach023">
                        <a href="https://www.sooplive.co.kr/station/bach023" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="꽃미남_성주.png" alt="울산큰고래" data-original-src="꽃미남_성주.png">
                            <h3>울산큰고래</h3>
                            <p class="keywords">#바지사장 #멘헤라상사</p>
                            <p class="catchphrase">"아 제발 똥 그만!!"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="gyeonjahee">
                        <a href="https://www.sooplive.co.kr/station/gyeonjahee" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="견자희.png" alt="견자희" data-original-src="견자희.png">
                            <h3>견자희</h3>
                            <p class="keywords">#장미상사 #눈나</p>
                            <p class="catchphrase">"견머니"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="melodingding">
                        <a href="https://www.sooplive.co.kr/station/melodingding" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="멜로딩딩.png" alt="멜로딩딩" data-original-src="멜로딩딩.png">
                            <h3>멜로딩딩</h3>
                            <p class="keywords">#비서 #노예</p>
                            <p class="catchphrase">"그건 비방으로..."</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="nunknown314">
                        <a href="https://www.sooplive.co.kr/station/nunknown314" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="미현영.png" alt="미현영" data-original-src="미현영.png">
                            <h3>미현영</h3>
                            <p class="keywords">#만트라Q #투지</p>
                            <p class="catchphrase">"사장님 즐거우시죠"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="soyoung6056">
                        <a href="https://www.sooplive.co.kr/station/soyoung6056" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="빡쏘.png" alt="빡쏘" data-original-src="빡쏘.png">
                            <h3>빡쏘</h3>
                            <p class="keywords">#빡보성 #친해지길바라</p>
                            <p class="catchphrase">"사장님 서운해요"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="akdma9692">
                        <a href="https://www.sooplive.co.kr/station/akdma9692" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="온자두.png" alt="온자두" data-original-src="온자두.png">
                            <h3>온자두</h3>
                            <p class="keywords">#미친사람 #에겐</p>
                            <p class="catchphrase">"맨헤라라고 하지마라"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="nlov555jij">
                        <a href="https://www.sooplive.co.kr/station/nlov555jij" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="삐요코.png" alt="삐요코" data-original-src="삐요코.png">
                            <h3>삐요코</h3>
                            <p class="keywords">#요즘은15금 #뿅</p>
                            <p class="catchphrase">"아 찌빨"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="xpdpfv2">
                        <a href="https://www.sooplive.co.kr/station/xpdpfv2" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="이지수.png" alt="이지수" data-original-src="이지수.png">
                            <h3>이지수</h3>
                            <p class="keywords">#배그말고는 #태무쏭이</p>
                            <p class="catchphrase">"따당님!"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="gatgdf">
                        <a href="https://www.sooplive.co.kr/station/gatgdf" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="쏭이.png" alt="쏭이" data-original-src="쏭이.png">
                            <h3>쏭이</h3>
                            <p class="keywords">#오빠 #싸패</p>
                            <p class="catchphrase">"오빵~"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="kimmaren77">
                        <a href="https://www.sooplive.co.kr/station/kimmaren77" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="김마렌.png" alt="김마렌" data-original-src="김마렌.png">
                            <h3>김마렌</h3>
                            <p class="keywords">#꽁트괴물 #RP의 신</p>
                            <p class="catchphrase">"쯰훈!!"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="doki0818">
                        <a href="https://www.sooplive.co.kr/station/doki0818" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="감자가비.png" alt="감자가비" data-original-src="감자가비.png">
                            <h3>감자가비</h3>
                            <p class="keywords">#웃음맛집 #쌍욕맛집</p>
                            <p class="catchphrase">"남편구해요"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="dmng50">
                        <a href="https://www.sooplive.co.kr/station/dmng50" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="빵땅콩.png" alt="빵땅콩" data-original-src="빵땅콩.png">
                            <h3>빵땅콩</h3>
                            <p class="keywords">#억소속감 #말못함</p>
                            <p class="catchphrase">"소속감은 스스로"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="ducke77">
                        <a href="https://www.sooplive.co.kr/station/ducke77" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="밀크티냠.png" alt="밀크티냠" data-original-src="밀크티냠.png">
                            <h3>밀크티냠</h3>
                            <p class="keywords">#직장인 #남친있네</p>
                            <p class="catchphrase">"^^;;;"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="joaras2">
                        <a href="https://www.sooplive.co.kr/station/joaras2" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="조아라.png" alt="조아라" data-original-src="조아라.png">
                            <h3>조아라</h3>
                            <p class="keywords">#짐승 #똥방귀</p>
                            <p class="catchphrase">"아 머리 나올뻔"</p>
                        </a>
                    </div>
                    <button id="prevBtn" class="slider-btn" aria-label="이전">‹</button>
                    <button id="nextBtn" class="slider-btn" aria-label="다음">›</button>
                </div>
            </div>
        </div>
    </section>
    
    <section id="video" class="section">
        <div class="container">
            <h2>대표 영상</h2>
            <div class="video-wrapper">
                <iframe src="https://www.youtube.com/embed/GvqzH3jVVs4?si=LEw4MYeYWEXGcLTG" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <div class="video-description">
                <p>고래상사의 대표 콘텐츠를 감상해 보세요. 늘 새롭고 유쾌한 웃음을 만들기 위해 노력합니다.</p>
                <a href="https://www.youtube.com/embed/9_79b_nVa0o?si=szAWAs8NgkEgFjJY" target="_blank" class="hero-button">채널에서 더보기</a>
            </div>
        </div>
    </section>

    <section id="md-shop" class="section bg-light">
        <div class="container">
            <h2>MD샵</h2>
            <div class="md-slider-container">
                <div class="md-slider">
                    <div class="md-item"><div class="md-image-container"><img src="울큰고_소바바_킥.png" alt="울산큰고래 굿즈"></div><div class="md-info"><h3>울산큰고래 에디션</h3><p>대기업의 맛. 울산큰고래가 추천하는 고매 소바바치킨.</p><a href="https://www.youtube.com/shopcollection/SCUCMFwpgB_rjp4Jk-oopLMFIoAuZSVHWHoJQ?scp=EAE%3D" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="멜로딩딩_상품.png" alt="멜로딩딩 굿즈"></div><div class="md-info"><h3>멜로딩딩 에디션</h3><p>비서는 항상 곁에. 천사 멜로딩딩 아크릴 무드등.</p><a href="https://sooptore.sooplive.co.kr/products/128821929?stationId=melodingding" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="김마렌_상품.png" alt="김마렌 굿즈"></div><div class="md-info"><h3>김마렌 에디션</h3><p>(독)개구리대장, 김마렌의 팬덤 올챙구의 수많은 감정들!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/61f7eb8badb1e" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="견자희_상품.png" alt="견자희 굿즈"></div><div class="md-info"><h3>견자희 에디션</h3><p>견자희의 팬덤 장미들의 인방생활 OGQ!!</p><a href="https://ogqmarket.sooplive.co.kr/search/%EA%B2%AC%EC%9E%90%ED%9D%AC" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="감자가비_상품.png" alt="감자가비 굿즈"></div><div class="md-info"><h3>감자가비 에디션</h3><p>감자가비와 팬들의 일상을 담은 귀여운 이모티콘!!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/63d34efbda135" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="빵땅콩_상품.png" alt="빵땅콩 굿즈"></div><div class="md-info"><h3>빵땅콩 에디션</h3><p>고래상사 최고의 모기 빵땅콩의 빵땅콩콘!!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/6435451a4f3a9" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="빡쏘_카페.png" alt="빡쏘_카페"></div><div class="md-info"><h3>빡쏘 카페</h3><p>빡쏘의 단칸방 카페</p><a href="https://cafe.naver.com/f-e/cafes/31483587/menus/0?t=1747908504607" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="삐요코_카페.png" alt="삐요코_카페"></div><div class="md-info"><h3>삐요코 카페</h3><p>삐요코의 떡방앗간</p><a href="https://cafe.naver.com/bbiyoco" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="이지수_카페.png" alt="이지수_카페"></div><div class="md-info"><h3>이지수 카페</h3><p>이지수의 꿀단</p><a href="https://cafe.naver.com/easysoo" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="조아라_카페.png" alt="조아라_카페"></div><div class="md-info"><h3>조아라 카페</h3><p>조아라의 아이돌(?) 카페</p><a href="https://cafe.naver.com/projectuniversee#" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="밀크티냠_카페.png" alt="밀크티냠_카페"></div><div class="md-info"><h3>밀크티냠 카페</h3><p>밀냠이의 티백꾸러미</p><a href="https://cafe.naver.com/lovelymilknyam" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="온자두_카페.png" alt="온자두_카페"></div><div class="md-info"><h3>온자두 카페</h3><p>자두의 자두밭</p><a href="https://cafe.naver.com/onjadu" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="미현영_현이봤.png" alt="현이봤"></div><div class="md-info"><h3>미현영 카페</h3><p> 현영이의 말티즈 카페!! </p><a href="https://cafe.naver.com/magicpanty" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                    <div class="md-item"><div class="md-image-container"><img src="쏭이_쏭이봤.png" alt="숭이봤나?"></div><div class="md-info"><h3>쏭이 숭이봤나?</h3><p>쏭이의 방송국 숭이봤나?</p><a href="https://www.sooplive.co.kr/station/gatgdf/board/114714227" target="_blank" class="hero-button md-button">구매하기</a></div></div>
                </div>
                <button id="mdPrevBtn" class="slider-btn" aria-label="이전">‹</button>
                <button id="mdNextBtn" class="slider-btn" aria-label="다음">›</button>
            </div>
        </div>
    </section>
    
    <footer class="main-footer">
        <div class="container">
            <div class="footer-info">
                <h3>고래상사</h3>
                <p>Los Santos Maze Bank Tower 74~81F</p>
                <p>전화: 02-1234-5678 | 이메일: whale@gorae.co.kr</p>
            </div>
            <div class="copyright">
                <p>© 2025 GORAECORP. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // (기존 슬라이더 및 모달 관련 코드는 그대로 두세요)
            // --- Smooth Scrolling ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- Generic Slider Function ---
            function setupSlider(sliderClass, prevBtnId, nextBtnId) {
                const slider = document.querySelector(sliderClass);
                if (!slider) return;
                const prevBtn = document.getElementById(prevBtnId);
                const nextBtn = document.getElementById(nextBtnId);
                const items = slider.children;
                if (items.length <= 3 && window.innerWidth > 768) {
                    prevBtn.style.display = 'none';
                    nextBtn.style.display = 'none';
                    return;
                }
                nextBtn.addEventListener('click', () => {
                    const item = slider.querySelector('div, a');
                    const scrollAmount = item.clientWidth + (parseInt(getComputedStyle(item).marginLeft) * 2);
                    slider.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                });
                prevBtn.addEventListener('click', () => {
                    const item = slider.querySelector('div, a');
                    const scrollAmount = item.clientWidth + (parseInt(getComputedStyle(item).marginLeft) * 2);
                    slider.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
                });
            }
            
            // --- Sliders Initialization ---
            setupSlider('.cast-slider', 'prevBtn', 'nextBtn');
            setupSlider('.md-slider', 'mdPrevBtn', 'mdNextBtn');
            
            // --- Pop-up Modal ---
            const modal = document.getElementById('popup-modal');
            const closeBtn = document.getElementById('modal-close-btn');
            
            if (modal) {
                modal.classList.add('active');
            }

            const closeModal = () => {
                modal.classList.remove('active');
            };

            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });
        
        // [수정됨] isInit 파라미터 추가 (처음 로드인지 확인)
        async function updateLiveStatus(isInit = false) {
            try {
                // 캐싱 방지용 타임스탬프
                const response = await fetch('./status.json?v=' + new Date().getTime());
                
                if (!response.ok) throw new Error("파일을 찾을 수 없습니다");

                const data = await response.json();
                
                data.forEach(member => {
                    const memberElement = document.querySelector(`.cast-item[data-bj-id="${member.id}"]`);
                    
                    if (memberElement) {
                        const img = memberElement.querySelector('img');
                        const link = memberElement.querySelector('a');
                        const originalSrc = img.getAttribute('data-original-src');
                        
                        // data-original-href 저장
                        if (!link.getAttribute('data-original-href')) {
                            link.setAttribute('data-original-href', link.getAttribute('href'));
                        }
                        const originalHref = link.getAttribute('data-original-href');

                        if (member.is_live) {
                            memberElement.classList.add('live');
                            memberElement.setAttribute('data-is-live', 'true');
                            
                            if (member.thumbnail && img.src !== member.thumbnail) img.src = member.thumbnail;
                            if (member.live_url) link.href = member.live_url;
                            link.title = `방송중: ${member.title}`;
                        } else {
                            memberElement.classList.remove('live');
                            memberElement.setAttribute('data-is-live', 'false');
                            
                            if (originalSrc && img.src !== originalSrc) img.src = originalSrc;
                            if (originalHref) link.href = originalHref;
                            link.title = '';
                        }
                    }
                });

                // 방송 중인 멤버 앞으로 정렬
                const container = document.querySelector('.cast-slider');
                const items = Array.from(container.querySelectorAll('.cast-item'));
                const buttons = Array.from(container.querySelectorAll('.slider-btn'));

                items.sort((a, b) => {
                    const aLive = a.getAttribute('data-is-live') === 'true';
                    const bLive = b.getAttribute('data-is-live') === 'true';
                    if (aLive && !bLive) return -1;
                    if (!aLive && bLive) return 1;
                    return 0;
                });

                items.forEach(item => container.appendChild(item));
                buttons.forEach(btn => container.appendChild(btn));

                // [추가됨] 최초 로딩일 경우에만 스크롤을 맨 앞으로 강제 이동
                if (isInit) {
                    container.scrollLeft = 0;
                }

            } catch (error) {
                console.error("데이터 로드 실패:", error);
            }
        }

        // [수정됨] 최초 실행 시 true 전달, 반복 실행 시 false(기본값) 전달
        updateLiveStatus(true); 
        setInterval(() => updateLiveStatus(false), 60000); 
    </script>
</body>
</html>











