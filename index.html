<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고래상사</title>

    <meta name="description" content="고래상사는 단순한 즐거움을 넘어, 참여하고 몰입하며 온몸으로 웃는 경험을 만듭니다.">
    <meta property="og:title" content="고래상사 | 함께하는 성장의 가치">
    <meta property="og:description" content="초격차 꽁트력으로 지속가능한 미래 방송 사회를 구현합니다.">
    <meta property="og:image" content="미리보기.png">
    <meta property="og:url" content="https://www.goraesangsa.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="고래상사 | 함께하는 성장의 가치">
    <meta name="twitter:description" content="초격차 꽁트력으로 지속가능한 미래 방송 사회를 구현합니다.">
    <meta name="twitter:image" content="미리보기.png">

    <link rel="stylesheet" href="style.css?v=3">
</head>
<body>
    <canvas id="background-canvas"></canvas>

    <div id="popup-modal" class="modal-overlay">
        <div class="modal-content">
            <a href="https://www.sooplive.co.kr/station/bach023/post/178759547" target="_blank">
                <img src="맹든링.png" alt="이벤트 팝업">
            </a>
            <button id="modal-close-btn" class="modal-close">&times;</button>
        </div>
    </div>

    <header class="main-header">
        <div class="container">
            <a href="#home" class="logo-link">
                <img src="logo.png" alt="고래상사 로고" class="logo-image">
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#about">회사 소개</a></li>
                    <li><a href="#cast">출연진</a></li>
                    <li><a href="#multiview">멀티뷰</a></li> <li><a href="#video">대표 영상</a></li>
                    <li><a href="#md-shop">MD샵</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <section id="home" class="hero"><div class="hero-content"><h1 class="hero-title">고래상사</h1><p class="hero-subtitle-en">Shaping the future of sustainable broadcasting with next-level comedy.</p><p class="hero-subtitle-ko">초격차 꽁트력으로 지속가능한 미래 방송 사회 구현</p><a href="#about" class="hero-button">더 알아보기</a></div></section>
    
    <section id="about" class="section">
        <div class="container" style="text-align: center; max-width: 800px;">
            <h2>고래상사 이야기</h2>
            <p>고래상사는 단순한 즐거움을 넘어, 참여하고 몰입하며 온몸으로 웃는 경험을 만듭니다. 우리는 '웃음'이라는 가치를 기반으로, 고객과 함께 성장하는 상생의 가치를 실현합니다.</p>
            <a href="https://magic-mink-e82.notion.site/2c5e955ad773803f9036e03d0468d5fa" class="about-button">자세히 알아보기</a>
        </div>
    </section>
    
    <section id="cast" class="section">
        <div class="container">
            <h2>고래상사가 선택한 인재들</h2>
            <div class="cast-slider-container">
                <div class="cast-slider">
                    <div class="cast-item" data-bj-id="bach023">
                        <a href="https://www.sooplive.co.kr/station/bach023" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="꽃미남_성주.png" alt="울산큰고래" data-original-src="꽃미남_성주.png">
                            <h3>울산큰고래</h3>
                            <p class="keywords">#바지사장 #멘헤라상사</p>
                            <p class="catchphrase">"아 제발 똥 그만!!"</p>
                        </a>
                    </div>
                    <div class="cast-item" data-bj-id="joaras2">
                        <a href="https://www.sooplive.co.kr/station/joaras2" target="_blank">
                            <div class="live-badge">LIVE</div>
                            <img src="조아라.png" alt="조아라" data-original-src="조아라.png">
                            <h3>조아라</h3>
                            <p class="keywords">#짐승 #똥방귀</p>
                            <p class="catchphrase">"아 머리 나올뻔"</p>
                        </a>
                    </div>
                    <button id="prevBtn" class="slider-btn">‹</button><button id="nextBtn" class="slider-btn">›</button>
                </div>
            </div>
        </div>
    </section>

    <section id="multiview" class="section bg-multiview">
        <div class="container" style="text-align: center;">
            <div class="multiview-content">
                <span class="beta-badge">BETA</span>
                <h2>고래상사 멀티뷰</h2>
                <p>여러 스트리머의 방송을 한 화면에서 동시에 즐기세요.<br>초격차 꽁트의 현장을 놓치지 않고 실시간으로 감상하실 수 있습니다.</p>
                <a href="CCTV.html" target="_blank" class="hero-button">멀티뷰 입장하기</a>
            </div>
        </div>
    </section>
    
    <section id="video" class="section"><div class="container"><h2>대표 영상</h2><div class="video-wrapper"><iframe src="https://www.youtube.com/embed/y6UPzAMRWMI?si=QIbyXr1VZRT2C27J" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><div class="video-description"><p>고래상사의 대표 콘텐츠를 감상해 보세요. 늘 새롭고 유쾌한 웃음을 만들기 위해 노력합니다.</p><a href="https://www.youtube.com/channel/UCIchCOLwLBMD87quHlNuXjQ" target="_blank" class="hero-button">채널에서 더보기</a></div></div></section>
    
    <section id="md-shop" class="section bg-light"><div class="container"><h2>MD샵</h2><div class="md-slider-container"><div class="md-slider">
        <div class="md-item"><div class="md-image-container"><img src="울큰고_소바바_킥.png" alt="울산큰고래 굿즈"></div><div class="md-info"><h3>울산큰고래 에디션</h3><p>대기업의 맛. 울산큰고래가 추천하는 고매 소바바치킨.</p><a href="https://www.youtube.com/shopcollection/SCUCMFwpgB_rjp4Jk-oopLMFIoAuZSVHWHoJQ?scp=EAE%3D" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="멜로딩딩_상품.png" alt="멜로딩딩 굿즈"></div><div class="md-info"><h3>멜로딩딩 에디션</h3><p>비서는 항상 곁에. 천사 멜로딩딩 아크릴 무드등.</p><a href="https://sooptore.sooplive.co.kr/products/128821929?stationId=melodingding" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="김마렌_상품.png" alt="김마렌 굿즈"></div><div class="md-info"><h3>김마렌 에디션</h3><p>(독)개구리대장, 김마렌의 팬덤 올챙구의 수많은 감정들!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/61f7eb8badb1e" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="견자희_상품.png" alt="견자희 굿즈"></div><div class="md-info"><h3>견자희 에디션</h3><p>견자희의 팬덤 장미들의 인방생활 OGQ!!</p><a href="https://ogqmarket.sooplive.co.kr/search/%EA%B2%AC%EC%9E%90%ED%9D%AC" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="감자가비_상품.png" alt="감자가비 굿즈"></div><div class="md-info"><h3>감자가비 에디션</h3><p>감자가비와 팬들의 일상을 담은 귀여운 이모티콘!!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/63d34efbda135" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="빵땅콩_상품.png" alt="빵땅콩 굿즈"></div><div class="md-info"><h3>빵땅콩 에디션</h3><p>고래상사 최고의 모기 빵땅콩의 빵땅콩콘!!</p><a href="https://ogqmarket.sooplive.co.kr/emoticon/6435451a4f3a9" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="상품준비중.png" alt="상품준비중"></div><div class="md-info"><h3>상품준비중</h3><p>상품준비중</p><a href="#" target="_blank" class="hero-button md-button">구매하기</a></div></div>
        <div class="md-item"><div class="md-image-container"><img src="상품준비중.png" alt="상품준비중"></div><div class="md-info"><h3>상품준비중</h3><p>상품준비중</p><a href="#" target="_blank" class="hero-button md-button">구매하기</a></div></div></div>
        <button id="mdPrevBtn" class="slider-btn">‹</button><button id="mdNextBtn" class="slider-btn">›</button></div></div></section>
    
    <footer class="main-footer">
        <div class="container">
            <div class="footer-info">
                <h3>고래상사</h3>
                <p>Los Santos Maze Bank Tower 74~81F</p>
                <p>전화: 02-1234-5678 | 이메일: whale@gorae.co.kr</p>
            </div>
            <div class="copyright">
                <p>© 2025 GORAECORP. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // (기존 스크립트 그대로 유지)
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            function setupSlider(sliderClass, prevBtnId, nextBtnId) {
                const slider = document.querySelector(sliderClass);
                if (!slider) return;
                const prevBtn = document.getElementById(prevBtnId);
                const nextBtn = document.getElementById(nextBtnId);
                const items = slider.children;
                if (items.length <= 3 && window.innerWidth > 768) {
                    prevBtn.style.display = 'none';
                    nextBtn.style.display = 'none';
                    return;
                }
                nextBtn.addEventListener('click', () => {
                    const item = slider.querySelector('div, a');
                    const scrollAmount = item.clientWidth + (parseInt(getComputedStyle(item).marginLeft) * 2);
                    slider.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                });
                prevBtn.addEventListener('click', () => {
                    const item = slider.querySelector('div, a');
                    const scrollAmount = item.clientWidth + (parseInt(getComputedStyle(item).marginLeft) * 2);
                    slider.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
                });
            }
            
            setupSlider('.cast-slider', 'prevBtn', 'nextBtn');
            setupSlider('.md-slider', 'mdPrevBtn', 'mdNextBtn');
            
            const modal = document.getElementById('popup-modal');
            const closeBtn = document.getElementById('modal-close-btn');
            if (modal) modal.classList.add('active');
            const closeModal = () => modal.classList.remove('active');
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) { if (e.target === modal) closeModal(); });

            const canvas = document.getElementById('background-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let particlesArray;
                const mouse = { x: null, y: null, radius: 150 };
                const setCanvasSize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
                class Particle {
                    constructor(x, y, dX, dY, size, color) { this.x=x; this.y=y; this.directionX=dX; this.directionY=dY; this.size=size; this.color=color; }
                    draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2, false); ctx.fillStyle=this.color; ctx.fill(); }
                    update() {
                        if(this.x > canvas.width || this.x < 0) this.directionX = -this.directionX;
                        if(this.y > canvas.height || this.y < 0) this.directionY = -this.directionY;
                        if(mouse.x !== null) {
                            let dx = mouse.x - this.x, dy = mouse.y - this.y, distance = Math.sqrt(dx*dx+dy*dy);
                            if (distance < mouse.radius + this.size) {
                                if(mouse.x < this.x && this.x < canvas.width - this.size * 10) this.x += 5;
                                if(mouse.x > this.x && this.x > this.size * 10) this.x -= 5;
                                if(mouse.y < this.y && this.y < canvas.height - this.size * 10) this.y += 5;
                                if(mouse.y > this.y && this.y > this.size * 10) this.y -= 5;
                            }
                        }
                        this.x += this.directionX; this.y += this.directionY; this.draw();
                    }
                }
                const init = () => {
                    particlesArray = [];
                    let num = (canvas.height * canvas.width) / 9000;
                    for (let i = 0; i < num; i++) {
                        let size = (Math.random() * 4) + 1;
                        let x = Math.random() * (innerWidth - size * 2) + size;
                        let y = Math.random() * (innerHeight - size * 2) + size;
                        let dX = (Math.random() * 0.4) - 0.2, dY = (Math.random() * 0.4) - 0.2;
                        let color = `rgba(173, 216, 230, ${Math.random() * 0.5 + 0.2})`;
                        particlesArray.push(new Particle(x, y, dX, dY, size, color));
                    }
                };
                const connect = () => {
                    const dist = (canvas.width/7) * (canvas.height/7);
                    for (let a = 0; a < particlesArray.length; a++) {
                        for (let b = a; b < particlesArray.length; b++) {
                            let distance = ((particlesArray[a].x - particlesArray[b].x) ** 2) + ((particlesArray[a].y - particlesArray[b].y) ** 2);
                            if (distance < dist) {
                                let opacity = 1 - (distance / 20000);
                                ctx.strokeStyle = `rgba(173, 216, 230, ${opacity})`;
                                ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(particlesArray[a].x, particlesArray[a].y); ctx.lineTo(particlesArray[b].x, particlesArray[b].y); ctx.stroke();
                            }
                        }
                    }
                };
                const animate = () => {
                    requestAnimationFrame(animate);
                    ctx.clearRect(0, 0, innerWidth, innerHeight);
                    let grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                    grad.addColorStop(0, '#1a2a4f'); grad.addColorStop(1, '#346a9a');
                    ctx.fillStyle = grad; ctx.fillRect(0, 0, canvas.width, canvas.height);
                    particlesArray.forEach(p => p.update());
                    connect();
                };
                window.addEventListener('mousemove', (e) => { mouse.x = e.x; mouse.y = e.y; });
                window.addEventListener('mouseout', () => { mouse.x = null; mouse.y = null; });
                window.addEventListener('resize', () => { setCanvasSize(); init(); });
                setCanvasSize(); init(); animate();
            }
        });
        
        async function updateLiveStatus() {
            try {
                const response = await fetch('./status.json?v=' + new Date().getTime());
                if (!response.ok) throw new Error("파일을 찾을 수 없습니다");
                const data = await response.json();
                data.forEach(member => {
                    const memberElement = document.querySelector(`.cast-item[data-bj-id="${member.id}"]`);
                    if (memberElement) {
                        const badge = memberElement.querySelector('.live-badge');
                        const img = memberElement.querySelector('img');
                        const link = memberElement.querySelector('a');
                        const originalSrc = img.getAttribute('data-original-src');
                        if (!link.getAttribute('data-original-href')) link.setAttribute('data-original-href', link.getAttribute('href'));
                        const originalHref = link.getAttribute('data-original-href');
                        if (member.is_live) {
                            memberElement.setAttribute('data-is-live', 'true');
                            if(badge) badge.style.display = 'block';
                            if (member.thumbnail && img.src !== member.thumbnail) img.src = member.thumbnail;
                            if (member.live_url) link.href = member.live_url;
                            img.style.width = '256px'; img.style.height = '144px'; img.style.borderRadius = '12px'; img.style.borderColor = '#e74c3c'; img.style.borderWidth = '3px';
                        } else {
                            memberElement.setAttribute('data-is-live', 'false');
                            if(badge) badge.style.display = 'none';
                            if (originalSrc && img.src !== originalSrc) img.src = originalSrc;
                            if (originalHref) link.href = originalHref;
                            img.style.width = '180px'; img.style.height = '180px'; img.style.borderRadius = '50%'; img.style.borderColor = '#fff'; img.style.borderWidth = '5px';
                        }
                    }
                });
                const container = document.querySelector('.cast-slider');
                const items = Array.from(container.querySelectorAll('.cast-item'));
                const buttons = Array.from(container.querySelectorAll('.slider-btn'));
                items.sort((a, b) => {
                    const aLive = a.getAttribute('data-is-live') === 'true';
                    const bLive = b.getAttribute('data-is-live') === 'true';
                    return (aLive === bLive) ? 0 : aLive ? -1 : 1;
                });
                items.forEach(item => container.appendChild(item));
                buttons.forEach(btn => container.appendChild(btn));
            } catch (error) { console.error("데이터 로드 실패:", error); }
        }
        updateLiveStatus();
        setInterval(updateLiveStatus, 60000);
    </script>
</body>
</html>
